<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>TGA KalkPro1.0</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" href="favicon.ico">
</head>
<body>
<div id="app" class="hidden">

<img src="logo.png" class="logo">

<!-- Countdown -->
<div id="release-info">Release: V1.0.1</div>
<div id="timer">Logout in: 10:00</div>

<!-- NEU: Angemeldet als -->
<div id="user-menu-wrapper">
  <div id="login-info" onclick="toggleUserMenu()"></div>

  <div id="user-menu" class="user-menu hidden">
    <div onclick="goToChange()">üîë Passwort √§ndern</div>
    <div onclick="logout()">üö™ Abmelden</div>
  </div>
</div>

<!-- SEITE 1: LOGIN -->
<div class="page active" id="page-login">
    <h2>Login</h2>

    <input id="loginUser" type="email" placeholder="E-Mail">
    <input id="loginPass" type="password" placeholder="Passwort">

    <div class="error" id="loginError"></div>

    <button onclick="login()">Anmelden</button>

    <button onclick="forgotPassword()">Passwort vergessen</button>
    
</div>

<!-- SEITE 2: PASSWORT √ÑNDERN -->
<div class="page" id="page-change">
    <h2>Passwort √§ndern</h2>

    <input id="oldPass" type="password" placeholder="Altes Passwort">
    <input id="newPass1" type="password" placeholder="Neues Passwort">
    <input id="newPass2" type="password" placeholder="Neues Passwort wiederholen">

    <div class="error" id="changeError"></div>

    <button onclick="savePassword()">Speichern</button>
    <button onclick="showPage('page-login')">Abbrechen</button>
</div>

<!-- SEITE 3: AUSWAHL -->
<div class="page" id="page-3">
    <h2>Bitte ausw√§hlen</h2>

    <button onclick="showPage('page-4')">KV</button>
    <button onclick="showPage('page-5')">Anfrage an TGA</button><br>
    <button onclick="showPage('page-3-1')">Info: Der Weg zur Photovoltaikanlage</button>
  
    <p class="hint">
        KV = Kostenvoranschlag ‚Äì die schnelle und direkte Ermittlung eines Richtpreises f√ºr den Kunden<br><br>
        Anfrage an TGA ‚Äì Ermittlung eines Richtpreises f√ºr den Kunden, jedoch mit der M√∂glichkeit ein qualifiziertes Angebot von TGA per Mail anzufragen.<br>
    </p>
    <button onclick="clearInputs()">Eingaben l√∂schen</button>
    <button onclick="showPage('page-login')">Zur√ºck</button>
    <button id="btnExportLog" class="hidden" onclick="exportLoginLog()">Login-Log herunterladen</button>

</div>

<!-- SEITE 3.1: Info: Der Weg zur Photovoltaikanlage</button -->
<div class="page" id="page-3-1">
    <h2>Der Weg zur Photovoltaikanlage</h2>

    <div style="height:90vh; overflow:auto; border:1px solid #ccc;">
  <iframe
    src="TGA_Schema.pdf"
    style="width:100%; height:100%; border:0;"
  ></iframe>
</div>
    <button onclick="showPage('page-3')">Zur√ºck</button>
</div>


<!-- SEITE 4: HAUPTMEN√ú -->
<div class="page" id="page-4">
    <h2>Hauptmen√º</h2>

    <button onclick="showPage('page-15')">DC</button>
    <button onclick="showPage('page-7')">AC</button>
    <button onclick="showPage('page-3')">Komplett</button><br>
    <button onclick="showPage('page-14-1')">Downloadbereich</button>
<br>
<br>
<br>
<br>
<br>
<br>
<button onclick="showPage('page-3')">Zur√ºck</button>

</div>

<!-- SEITE 5: ANFRAGE AN TGA -->
<div class="page" id="page-5">
    <h2>Anfrage an TGA</h2><br>

    <p class="hint">
        <strong>Bauvorhaben:</strong><br>
    </p>
    <div class="input-field">
        <input id="bv-contact" placeholder="Kontakt / Ansprechpartner">
    </div>
    <div class="input-field">
        <input id="bv-strasse" placeholder="Stra√üe, Hausnummer">
    </div>
    <div class="input-field">
        <input id="bv-ort" placeholder="PLZ, Ort">
    </div>
<p class="hint">
        <strong>Kontakt SHK:</strong><br>
    </p>
    <div class="input-field">
        <input id="shk-contact" placeholder="SHK Ansprechpartner">
    </div>
    <div class="input-field">
        <input id="shk-email" type="email" placeholder="SHK E-Mail">
    </div>
    <div class="input-field">
        <input id="shk-phone" placeholder="SHK Telefon-Nr.">
    </div>
<p class="hint">
        <strong>Gew√ºnschter Ausf√ºhrungstermin:</strong><br>
    </p>
    <div class="input-field">
        <input id="execution-date" type="date" placeholder="Gew√ºnschter Ausf√ºhrungstermin">
    </div>

<p class="hint">
    <strong>Ausf√ºhrung - Dachpfanne:</strong><br>
</p>
<div class="input-field">
  <select id="dachpfanne-ausfuehrung">
    <option value="" selected disabled>Auswahl</option>
    <option value="Pappdocken">Pappdocken</option>
    <option value="in M√∂rtel">in M√∂rtel</option>
    <option value="verschraubt">verschraubt</option>
    <option value="aktueller Standard">aktueller Standard</option>
    <option value="unbekannt">unbekannt</option>
  </select>
</div>

<p class="hint">
    <strong>Liegen Zeichnungen / Pl√§ne vom Dach vor?</strong><br>
    Wenn ja: Bitte h√§ngen Sie die Pl√§ne der E-Mail an.<br>
    Wenn nein: Alternativ h√§ngen Sie bitte Fotos des ganzen Daches / der gesamten Fl√§che der E-Mail an.<br>
</p>
<div class="input-field">
  <select id="zeichnung-plaene">
    <option value="" selected disabled>Auswahl</option>
    <option value="ja">ja</option>
    <option value="nein">nein</option>
  </select>
</div>

<p class="hint">
    <strong>Wo befindet sich der Z√§hlerschrank?</strong><br>
    (Fotos vom ge√∂ffneten Z√§hlerschrank der E-Mail bitte anh√§ngen.)<br>
</p>
<div class="input-field">
        <input id="zaehlerschrank" placeholder="Standort Z√§hlerschrank">
    </div>

<p class="hint">
   <strong>Nennen Sie bitte den Aufstellungsort von Wechselrichter und Speiher:</strong><br>
    (Fotos an der E-Mail bitte anh√§ngen.)<br>
</p>
<div class="input-field">
        <input id="wechselrichter_speicher" placeholder="Standort Wechselrichter + Speicher">
    </div>

<p class="hint">
    <strong>Aktueller Jahresstrombedarf in kWh:</strong><br>
</p>
<div class="input-field">
        <input id="jahresstrombedarf" placeholder="kWh">
    </div>

<p class="hint">
    <strong>Strombedarf Heizsystem in kWh:</strong><br>
    (bei Umstellung auf W√§rmepumpe bitte zus√§tzlich den voraussichtlichen Strombedarf angeben.)<br>
</p>
<div class="input-field">
        <input id="waermepumpe_strombedarf" placeholder="kWh">
    </div>

<p class="hint">
    <strong>Ist eine Wallbox angedacht?</strong><br>
</p>
<div class="input-field">
  <select id="wallbox">
    <option value="" selected disabled>Auswahl</option>
    <option value="ja - E-Auto">ja - E-Auto</option>
    <option value="ja - Plug-in Hybrid">ja - Plug-in Hybrid</option>
    <option value="nein">nein</option>
  </select>
</div>

    <div class="error" id="page5-error" style="color:darkred; margin:10px;"></div>

    <div class="button-bar">
        <button onclick="submitPage5()">Weiter</button>
        <button onclick="showPage('page-3')">Zur√ºck</button>
    </div>
</div>

<!-- SEITE 6: MEN√ú DC -->
<div class="page" id="page-6">
    <h2>Men√º DC</h2>

    <!-- Auswahlbuttons untereinander -->
    <div>
        <button onclick="showPage('page-24')">Flachdach</button><br>
        <button onclick="showPage('page-23')">Schr√§gdach</button><br>
    </div>

    <!-- Navigationsbuttons nebeneinander -->
    <div style="margin-top:40px;">
        <button onclick="showPage('page-4')">Zur√ºck</button>
    </div>
</div>

<!-- SEITE 7: MEN√ú AC -->
<div class="page" id="page-7">
    <h2>Men√º AC</h2>

    <!-- Auswahlbuttons untereinander -->
    <div>
        <button onclick="showPage('page-11')">Wechselrichter</button><br>
        <button onclick="showPage('page-10')">Speicher</button><br>
        <button onclick="showPage('page-18')">Wallbox</button><br>
        <button onclick="showPage('page-20')">Z√§hlerschrank</button><br>
     </div>

    <!-- Navigationsbuttons nebeneinander -->
    <div style="margin-top:40px;">
        <button onclick="showPage('page-4')">Zur√ºck</button>
        
    </div>
</div>

<!-- SEITE 14: Wechselrichter strang -->
<div class="page" id="page-14">
    <h2>Wechselrichter "strang"</h2>

    <div id="page14-content" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-11')">Zur√ºck</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 14.1: Downloadbereich -->
<div class="page" id="page-14-1">
    <h2>Download - Datenbl√§tter / Checklisten / Infos</h2>

   <a href="Fronius Symo Gen24 Plus_Datenblatt.pdf" target="_blank">
  Datenblatt ‚Äì Fronius Symo Gen24 Plus
</a><br><br>

<a href="BYD Battery-Box Premium HVS-HVM.pdf" target="_blank">
  Datenblatt ‚Äì BYD Battery-Box Premium HVS-HVM
</a><br><br>

<a href="2026-01-28-Gesamtpaket PV-TGA.pdf" target="_blank">
  Info ‚Äì Gesamtpaket Photovoltaik
</a><br><br>

<a href="TGA_Schema.pdf" target="_blank">
  Info ‚Äì Ihr Weg zur eigenen Photovoltaikanlage
</a><br><br>

<a href="Z√§hlerschrank Checkliste.pdf" target="_blank">
  Checkliste ‚Äì Z√§hlerschrank
</a><br><br>

    <br><br>

    <button onclick="showPage('page-4')">Zur√ºck</button>
</div>

                                                                              <!-- SEITE 14.3:   -->
<div class="page" id="page-14-3">

       <div id="content-14-3" class="price-table"></div>

<div class="button-bar">
                <button onclick="showPage('page-10')">Zur√ºck</button>
                <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
               </div>
</div>

<!-- SEITE 40: KOSTENVORANSCHLAG / ANFRAGE -->
<div class="page" id="page-40">
    <h2 id="page40-title">Kostenvoranschlag</h2>

    <!-- Anfrage-Daten (nur bei Anfrage sichtbar) -->
    <div id="anfrage-daten" style="display:none; margin:20px auto; max-width:1100px; text-align:left;">
    <div class="subtitle">Anfrage-Daten</div>
    <div id="anfrage-daten-content"></div>
    <hr style="margin:20px 0;">
    </div>

    <!-- Zusammenfassung der Mengen -->
    <div id="summary-content"></div>

    <!-- Gesamtsumme / Angebotspreis -->
    <div id="angebotspreis" class="gesamt">Gesamtpreis: 0,00 ‚Ç¨</div>
    <!--<div id="angebotspreisRabatt" class="gesamt rabatt">Gesamtpreis abzgl. SHK-Rabatt (15%): 0,00 ‚Ç¨</div>-->

    <div style="text-align:center; margin-bottom:20px;">(netto, freibleibend)</div>

<div id="optimierer-hinweis-print" style="display:none; margin-top:20px; color:darkred; font-weight:600;">
  Achtung!<br>
  Sie haben keinen Optimierer ausgew√§hlt!
</div>

<!-- Allgemeine Hinweise aus CSV -->
    <div id="hinweise-content"></div>

<!-- Buttons -->
    <div class="button-bar">
        <button onclick="showPage('page-3')">Zur√ºck</button>
        <button onclick="printPage40()">Drucken / speichern als PDF</button>
        <button onclick="sendMailPage40()">Senden als Text-Mail</button>
        <button onclick="sharePdf()">PDF download</button>
        <button onclick="clearInputs()">Eingaben l√∂schen</button>
    </div>
</div>

<!-- SEITE 41: Hinweis fehlende Anfrage-Daten -->
<div class="page" id="page-41">
    <h2>Hinweis</h2>

    <p>
        F√ºr eine Anfrage an TGA m√ºssen zuerst die Kontaktdaten vollst√§ndig ausgef√ºllt werden.
    </p>

    <div class="button-bar">
        <button onclick="showPage('page-5')">Zur Anfrage</button>
        <button onclick="showPage('page-40')">KV anzeigen</button><br>
        <button onclick="showPage('page-4')">Zur√ºck</button>
    </div>
</div>

<!-- SEITE 15: Versicherung -->
<div class="page" id="page-15">
    <h2>12 Monate Rundum-Versicherung inklusive!</h2>

    <img src="bild17.png" class="Bild_Versicherung">

    <p><strong>Ihre neue PV-Anlage ist ab Inbetriebnahme f√ºr 12 Monate automatisch versichert ‚Äì ohne Zusatzkosten!</strong>
    <br>
    <br>
    <strong>Dank ALL-RISK Deckung sind alle Bestandsteile wie...</strong>
    <br>
     ‚Üí Modul<br>
     ‚Üí Wallbox<br>
     ‚Üí Wechselrichter<br>
     ‚Üí Verkabelung<br>
     ‚Üí Speicher<br>
     ‚Üí etc.<br>
     <strong>...gegen Sch√§den jeglicher Art gesch√ºtzt.</strong>
     <br>
     <br>
     <strong>Nutzungsausfall</strong><br>
     ‚Üí Zus√§tzlich sichern wir Sie gegen Nutzungsausfall mit einer Ausfallentsch√§digung i.H.v. 1,50 ‚Ç¨ pro kWp und Tag ab. 
     <br>
     <br>
     Sie genie√üen sorgenfreie Energie ‚Äì wir k√ºmmern uns um den Rest!
     <br>
     <br>
     </p>

    <div class="button-bar">
        <button onclick="showPage('page-4')">Zur√ºck</button>
        <button onclick="showPage('page-6')">Weiter</button>
    </div>
</div>



<!-- SEITE 14.2: Wechselrichter "hyprid" -->
<div class="page" id="page-14-2">
<h2>Wechselrichter "hyprid"</h2>

    <div id="content-14-2" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-11')">Zur√ºck</button>
        <button onclick="showPage('page-21')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>

</div>

<!-- SEITE 8: Optimierer -->
<div class="page" id="page-8">
    <h2>Optimierer</h2>

    <div id="content-8" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-6')">Zur√ºck</button>
        <button onclick="showPage('page-20')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 18: Wallbox -->
<div class="page" id="page-18">
    <h2>Wallbox</h2>

    <div id="content-18" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-7')">Zur√ºck</button>
        
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 20: Z√§hlerschrank -->
<div class="page" id="page-20">
    <h2>Z√§hlerschrank</h2>

    <div id="content-20" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-4')">Zur√ºck</button>
        <button onclick="showPage('page-22')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 21: Zubeh√∂r -->
<div class="page" id="page-21">
    <h2>Zubeh√∂r</h2>

    <div id="content-21" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-14-2')">Zur√ºck</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 22: Extras (Z√§hlerschrank) -->
<div class="page" id="page-22">
    <h2>Extras</h2>

    <div id="content-22" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-20')">Zur√ºck</button>
        <button onclick="direktZumAngebot()">Weiter</button>
    </div>
</div>

<!-- SEITE 9: Ger√ºst -->
<div class="page" id="page-9">
    <h2>Ger√ºst</h2>

    <div id="content-9" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-8')">Zur√ºck</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 10: Speicher -->
<div class="page" id="page-10">
    <h2>Speicher</h2>

    <div id="content-10" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-7')">Zur√ºck</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 11: MEN√ú Wechselrichter -->
<div class="page" id="page-11">
    <h2>Men√º Trockenbau</h2>

    <!-- Auswahlbuttons untereinander -->
    <div>
        <button onclick="showPage('page-14')">Typ "strang"</button><br>
        <button onclick="showPage('page-14-2')">Typ "hybrid"</button><br>
    </div>

    <!-- Navigationsbuttons nebeneinander -->
    <div style="margin-top:40px;">
        <button onclick="showPage('page-7')">Zur√ºck</button>
    </div>
</div>

<!-- SEITE 23: Schr√§gdach -->
<div class="page" id="page-23">
    <h2>Schr√§gdach</h2>

    <div id="content-23" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-6')">Zur√ºck</button>
        <button onclick="showPage('page-8')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- SEITE 24: Flachdach -->
<div class="page" id="page-24">
    <h2>Flachdach</h2>

    <div id="content-24" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-6')">Zur√ºck</button>
        <button onclick="showPage('page-8')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

                                                                         <!-- SEITE 25: Aufbau 25mm (XPS) -->
<div class="page" id="page-25">
    <h2>Aufbau 25mm (XPS)</h2>

    <div id="content-25" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-11')">Zur√ºck</button>
        <button onclick="showPage('page-20')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

                                                                                <!-- SEITE 26: AUSWAHL MARKE Klett -->
<div class="page" id="page-26">
    <h2>Auswahl Marke Klettsystem</h2>

    <button onclick="showPage('page-27')">Handelsmarke</button>
    <button onclick="showPage('page-28')">Uponor</button>
    <br><br>

    <button onclick="showPage('page-7')">Zur√ºck</button>
</div>

                                                                               <!-- SEITE 29: AUSWAHL MARKE Noppensystem -->
<div class="page" id="page-29">
    <h2>Auswahl Marke Noppensystem</h2>

    <button onclick="showPage('page-30')">Handelsmarke</button>
    <button onclick="showPage('page-31')">Uponor</button>
    <button onclick="showPage('page-32')">Roth</button>
    <br><br>

    <button onclick="showPage('page-7')">Zur√ºck</button>
</div>

                                                                         <!-- SEITE 27: Klett Handelsmarke -->
<div class="page" id="page-27">
    <h2>Klettsystem Handelsmarke</h2>

    <div id="content-27" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-26')">Zur√ºck</button>
        <button onclick="showPage('page-18')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

                                                                       <!-- SEITE 28: Klett Uponor -->
<div class="page" id="page-28">
    <h2>Klettsystem Uponor</h2>

    <div id="content-28" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-26')">Zur√ºck</button>
        <button onclick="showPage('page-18')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

                                                                         <!-- SEITE 30: Noppen Handelsmarke -->
<div class="page" id="page-30">
    <h2>Noppensystem Handelsmarke</h2>

    <div id="content-30" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-29')">Zur√ºck</button>
        <button onclick="showPage('page-18')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

                                                                             <!-- SEITE 31: Noppen Uponor -->
<div class="page" id="page-31">
    <h2>Noppensystem Uponor</h2>

    <div id="content-31" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-29')">Zur√ºck</button>
        <button onclick="showPage('page-18')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

                                                                          <!-- SEITE 32: Noppen Roth -->
<div class="page" id="page-32">
    <h2>Noppensystem Roth</h2>

    <div id="content-32" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-29')">Zur√ºck</button>
        <button onclick="showPage('page-18')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

                                                                          <!-- SEITE 33: Industrieboden -->
<div class="page" id="page-33">
    <h2>Industrieboden</h2>

    <div id="content-33" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-7')">Zur√ºck</button>
        <button onclick="showPage('page-20')">Weiter</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

									<!-- SEITE 13:  -->
<div class="page" id="page-13">
    <h2>          </h2>

    <div id="content-13" class="price-table"></div>

    <div class="button-bar">
        <button onclick="showPage('page-7')">Zur√ºck</button>
        <button onclick="direktZumAngebot()">Direkt zum Angebot</button>
    </div>
</div>

<!-- Eieruhr auf Seite 40 -->
<div id="loader40" class="loader hidden">
  <div class="spinner"></div>
  <div class="loader-text">Ausgabe wird erstellt‚Ä¶</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

</div>

<script type="module" src="app.js"></script>


</body>
</html>
